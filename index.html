<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Meu Portfólio Profissional</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
    <!-- Navbar -->
    <nav class="navbar is-fixed-top is-dark" role="navigation" aria-label="main navigation">
        <div class="container">
            <div class="navbar-brand">
                <a class="navbar-item" href="#home">
                    <strong>Portfólio</strong>
                </a>
                <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navbarMenu">
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                    <span aria-hidden="true"></span>
                </a>
            </div>
            <div id="navbarMenu" class="navbar-menu">
                <div class="navbar-end">
                    <a class="navbar-item" href="#jornada">Jornada</a>
                    <a class="navbar-item" href="#posicao">Posição Atual</a>
                    <a class="navbar-item" href="#certificacoes">Certificações</a>
                    <a class="navbar-item" href="#academico">Histórico Acadêmico</a>
                    <a class="navbar-item" href="#cursos">Cursos</a>
                </div>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero is-primary is-medium" id="home">
        <div class="hero-body">
            <div class="container has-text-centered">
                <figure class="image is-128x128 is-inline-block mb-4">
                    <img class="is-rounded" src="./assets/1762262208433.jpeg" alt="Foto de perfil">
                </figure>
                <h1 class="title is-1 has-text-white">
                    Tiago Henrique Iwamoto
                </h1>
                <h2 class="subtitle is-3 has-text-white">
                    Staff Engineer | Especialista de Sistema
                </h2>
                <p class="subtitle is-5 has-text-white-ter">
                    Itaú Unibanco | Sistemas Resilientes e Escaláveis
                </p>
                <div class="social-links mt-5">
                    <a href="https://github.com/tiagoiwamoto" target="_blank" title="GitHub">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://www.linkedin.com/in/tiago-iwamoto/" target="_blank" title="LinkedIn">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="mailto:contato@tiagoiwamoto.com.br" title="Email">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://www.youtube.com/@cidadaoaleatorio" target="_blank" title="youtube">
                        <i class="fab fa-youtube"></i>
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Minha Jornada -->
    <section class="section" id="jornada">
        <div class="container">
            <h2 class="title is-2 section-title">
                <i class="fas fa-road mr-2"></i>Minha Jornada
            </h2>
            <div class="content is-medium">
                <p>
                    Olá! Sou um profissional apaixonado por tecnologia com uma trajetória marcada por constante aprendizado e evolução.
                    Minha jornada na área de TI começou há vários anos, e desde então tenho me dedicado a aprimorar minhas habilidades
                    e conhecimentos em diversas tecnologias e metodologias.
                </p>
                <p>
                    Ao longo da minha carreira, tive a oportunidade de trabalhar em projetos desafiadores que me permitiram desenvolver
                    competências técnicas sólidas e habilidades interpessoais essenciais para o trabalho em equipe. Acredito no poder
                    da tecnologia para transformar negócios e melhorar a vida das pessoas.
                </p>
                <p>
                    Minha filosofia de trabalho é baseada em três pilares: aprendizado contínuo, qualidade no que faço e colaboração.
                    Estou sempre em busca de novos desafios que me permitam crescer profissionalmente e contribuir para o sucesso dos projetos.
                </p>
            </div>
        </div>
    </section>

    <!-- Posição Atual -->
    <section class="section has-background-light" id="posicao">
        <div class="container">
            <h2 class="title is-2 section-title">
                <i class="fas fa-briefcase mr-2"></i>Posição Profissional Atual
            </h2>
            <div class="card">
                <div class="card-content">
                    <div class="media">
                        <div class="media-left">
                            <figure class="image is-64x64">
                                <i class="fas fa-building" style="font-size: 64px; color: #667eea;"></i>
                            </figure>
                        </div>
                        <div class="media-content">
                            <p class="title is-4">Especialista de Sistema (Staff Engineer)</p>
                            <p class="subtitle is-6">Itaú Unibanco | Setembro 2021 - Presente</p>
                        </div>
                    </div>
                    <div class="content">
                        <p>
                            Atualmente atuo como <strong>Especialista de Sistema (Staff Engineer)</strong> no Itaú Unibanco,
                            onde sou responsável pela criação de sistemas resilientes e escaláveis.
                        </p>

                        <h5 class="title is-5 mt-4">Trajetória na empresa:</h5>
                        <div class="timeline" style="padding: 10px 0;">
                            <div class="timeline-item" style="padding-left: 30px; padding-bottom: 20px;">
                                <div style="position: relative;">
                                    <strong>Especialista de Sistema (Staff Engineer)</strong>
                                    <br><span class="has-text-grey is-size-7">Novembro 2025 - Presente</span>
                                    <p class="mt-2">Promovido a Especialista, focando em arquitetura de sistemas de alta disponibilidade e escalabilidade.</p>
                                </div>
                            </div>
                            <div class="timeline-item" style="padding-left: 30px; padding-bottom: 20px;">
                                <div style="position: relative;">
                                    <strong>Tech Lead</strong>
                                    <br><span class="has-text-grey is-size-7">2022 - Novembro 2025</span>
                                    <p class="mt-2">Liderança técnica de time, arquitetura de soluções e mentoria de desenvolvedores.</p>
                                </div>
                            </div>
                            <div class="timeline-item" style="padding-left: 30px;">
                                <div style="position: relative;">
                                    <strong>Team Member</strong>
                                    <br><span class="has-text-grey is-size-7">Setembro 2021 - 2022</span>
                                    <p class="mt-2">Desenvolvimento de sistemas bancários e soluções financeiras.</p>
                                </div>
                            </div>
                        </div>

                        <h5 class="title is-5 mt-4">Responsabilidades atuais:</h5>
                        <ul>
                            <li>Criação e manutenção de sistemas resilientes e escaláveis</li>
                            <li>Arquitetura de soluções de alta disponibilidade para ambientes críticos</li>
                            <li>Resolução de problemas complexos de performance e escalabilidade</li>
                            <li>Definição de padrões e boas práticas de desenvolvimento</li>
                            <li>Mentoria técnica e liderança de times de engenharia</li>
                            <li>Garantia de qualidade e segurança em sistemas financeiros</li>
                            <li>Participação ativa em decisões técnicas e estratégicas</li>
                        </ul>

                        <div class="tags mt-4">
                            <span class="tag is-primary">Java</span>
                            <span class="tag is-primary">Spring Boot</span>
                            <span class="tag is-primary">Golang</span>
                            <span class="tag is-primary">Microservices</span>
                            <span class="tag is-primary">Kafka</span>
                            <span class="tag is-primary">Docker</span>
                            <span class="tag is-primary">AWS</span>
                            <span class="tag is-primary">Redis</span>
                            <span class="tag is-primary">Observabilidade</span>
                            <span class="tag is-primary">Resiliência</span>
                            <span class="tag is-primary">Escalabilidade</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Certificações -->
    <section class="section" id="certificacoes">
        <div class="container">
            <h2 class="title is-2 section-title">
                <i class="fas fa-certificate mr-2"></i>Certificações Profissionais
            </h2>
            <div id="certificacoes-container" class="columns is-multiline">
                <div v-if="loading.certificacoes" class="loading" style="width: 100%;">
                    <div class="spinner"></div>
                    <p class="mt-4">Carregando certificações...</p>
                </div>
                <div v-else-if="certificacoes.length === 0" class="notification is-warning" style="width: 100%;">
                    <p><i class="fas fa-exclamation-triangle mr-2"></i>Nenhuma certificação encontrada.</p>
                </div>
                <div v-else v-for="cert in certificacoes" :key="cert.id" class="column is-6">
                    <div class="certification-badge"
                         @click="cert.pathCertificado ? abrirLightbox(getCertificadoUrl(cert.pathCertificado), cert.nome) : null"
                         :style="{ cursor: cert.pathCertificado ? 'pointer' : 'default' }">
                        <i class="fas fa-award"></i>
                        <div class="certification-content">
                            <div class="certification-name">{{ cert.nome }}</div>
                            <span v-if="cert.categoria?.nome" class="certification-category">{{ cert.categoria.nome }}</span>
                            <div class="certification-dates">
                                <span v-if="cert.dataEmissao"><i class="fas fa-calendar-alt"></i> {{ formatarDataMesAno(cert.dataEmissao) }}</span>
                                <span v-if="cert.dataExpiracao"><i class="fas fa-calendar-times"></i> {{ formatarDataMesAno(cert.dataExpiracao) }}</span>
                                <span :class="['certification-status', certificacaoStatus(cert).tipo]">
                                    <i :class="['fas', certificacaoStatus(cert).icone]"></i> {{ certificacaoStatus(cert).texto }}
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Histórico Acadêmico -->
    <section class="section has-background-light" id="academico">
        <div class="container">
            <h2 class="title is-2 section-title">
                <i class="fas fa-graduation-cap mr-2"></i>Histórico Acadêmico
            </h2>
            <div id="timeline-container" class="timeline">
                <div v-if="loading.escolaridades" class="loading">
                    <div class="spinner"></div>
                    <p class="mt-4">Carregando histórico acadêmico...</p>
                </div>
                <div v-else-if="escolaridades.length === 0" class="notification is-warning">
                    <p><i class="fas fa-exclamation-triangle mr-2"></i>Nenhuma escolaridade encontrada.</p>
                </div>
                <div v-else v-for="esc in escolaridades" :key="esc.id" class="timeline-item">
                    <div class="card">
                        <div class="card-content">
                            <p class="title is-4">{{ esc.nome }}</p>
                            <p class="subtitle is-6">
                                {{ esc.escola }}
                                <span v-if="esc.categoria?.nome" class="tag is-info is-light">{{ esc.categoria.nome }}</span>
                            </p>
                            <p v-if="esc.descricao">{{ esc.descricao }}</p>

                            <div class="academic-meta">
                                <div v-if="esc.dataInicio || esc.dataConclusao" class="academic-meta-item">
                                    <i class="fas fa-calendar"></i>
                                    <span>{{ esc.dataInicio ? formatarData(esc.dataInicio).slice(3) : '' }} - {{ esc.dataConclusao ? formatarData(esc.dataConclusao).slice(3) : 'Presente' }}</span>
                                </div>
                                <div v-if="esc.duracaoHoras" class="academic-meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>{{ esc.duracaoHoras }}h</span>
                                </div>
                            </div>

                            <button v-if="esc.certificadoUrl" type="button" class="timeline-certificate-btn"
                                    @click="abrirLightbox(getCertificadoUrl(esc.certificadoUrl), esc.nome)">
                                <i class="fas fa-certificate"></i>
                                Ver Certificado
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Cursos -->
    <section class="section" id="cursos">
        <div class="container">
            <h2 class="title is-2 section-title">
                <i class="fas fa-book mr-2"></i>Cursos Realizados
            </h2>

            <!-- Estatísticas -->
            <div class="columns is-multiline mb-5">
                <div class="column is-4">
                    <div class="stats-card">
                        <div class="stats-number">{{ totalCursos }}</div>
                        <div class="stats-label">Total de Cursos</div>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="stats-card">
                        <div class="stats-number">{{ totalCategorias }}</div>
                        <div class="stats-label">Categorias</div>
                    </div>
                </div>
                <div class="column is-4">
                    <div class="stats-card">
                        <div class="stats-number">{{ totalHoras }}</div>
                        <div class="stats-label">Horas de Estudo</div>
                    </div>
                </div>
            </div>

            <!-- Seletor de Categorias -->
            <div v-if="!loading.cursos && categorias.length > 0" class="category-selector">
                <button v-for="cat in categorias" :key="cat"
                        class="category-btn"
                        :class="{ active: cat === categoriaAtual }"
                        @click="filtrarPorCategoria(cat)">
                    {{ cat }} <span class="tag is-light is-small">{{ getContagemCategoria(cat) }}</span>
                </button>
            </div>

            <!-- Carrossel de Cursos -->
            <div v-if="loading.cursos" class="loading">
                <div class="spinner"></div>
                <p class="mt-4">Carregando cursos...</p>
            </div>
            <div v-else-if="cursosParaExibir.length === 0" class="notification is-warning">
                <p><i class="fas fa-exclamation-triangle mr-2"></i>Nenhum curso encontrado nesta categoria.</p>
            </div>
            <div v-else>
                <div class="carousel-wrapper" @touchstart="handleTouchStart" @touchend="handleTouchEnd">
                    <div class="carousel-container">
                        <div v-for="curso in cursosVisiveis" :key="curso.id" class="carousel-item">
                            <div class="course-card">
                                <div class="course-card-header">
                                    <div class="course-title">{{ curso.nome }}</div>
                                    <span v-if="curso.categoria?.nome" class="tag is-info is-light">
                                        <i class="fas fa-tag mr-1"></i>{{ curso.categoria.nome }}
                                    </span>
                                </div>
                                <div class="course-description">
                                    {{ curso.descricao || 'Curso completo e certificado.' }}
                                </div>
                                <div class="course-meta">
                                    <div v-if="curso.escola" class="course-meta-item">
                                        <i class="fas fa-university"></i>
                                        <span>{{ curso.escola }}</span>
                                    </div>
                                    <div v-if="curso.duracaoHoras" class="course-meta-item">
                                        <i class="fas fa-clock"></i>
                                        <span>{{ curso.duracaoHoras }}h</span>
                                    </div>
                                    <div v-if="curso.dataConclusao" class="course-meta-item">
                                        <i class="fas fa-calendar-check"></i>
                                        <span>{{ formatarData(curso.dataConclusao) }}</span>
                                    </div>
                                </div>
                                <button v-if="curso.certificadoUrl" type="button" class="course-certificate-link"
                                        @click="abrirLightbox(getCertificadoUrl(curso.certificadoUrl), curso.nome)">
                                    <i class="fas fa-certificate"></i>
                                    Ver Certificado
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn" @click="navegarCarrossel(-1)" :disabled="currentPage === 0">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <div class="carousel-indicators">
                        <button v-for="(page, index) in totalPages" :key="index"
                                class="carousel-indicator"
                                :class="{ active: index === currentPage }"
                                @click="irParaPagina(index)"></button>
                    </div>
                    <span class="carousel-counter">{{ currentPage + 1 }} / {{ totalPages }}</span>
                    <button class="carousel-btn" @click="navegarCarrossel(1)" :disabled="currentPage >= totalPages - 1">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="content has-text-centered has-text-white">
                <p>
                    <strong class="has-text-white">Portfólio Profissional</strong> - 2026
                </p>
                <p>
                    Desenvolvido com <i class="fas fa-heart" style="color: #ff6b6b;"></i> usando
                    <a href="https://bulma.io" target="_blank" style="color: #667eea;">Bulma CSS</a>
                </p>
                <div class="social-links mt-4">
                    <a href="https://github.com/" target="_blank">
                        <i class="fab fa-github"></i>
                    </a>
                    <a href="https://linkedin.com/" target="_blank">
                        <i class="fab fa-linkedin"></i>
                    </a>
                    <a href="mailto:seu@email.com">
                        <i class="fas fa-envelope"></i>
                    </a>
                    <a href="https://twitter.com/" target="_blank">
                        <i class="fab fa-twitter"></i>
                    </a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Lightbox para Certificados -->
    <div id="lightbox" class="lightbox" :class="{ active: lightbox.active }" @click="fecharLightbox">
        <div class="lightbox-content" @click.stop>
            <button class="lightbox-close" @click="fecharLightbox">&times;</button>
            <img id="lightbox-image" class="lightbox-image" :src="lightbox.url" alt="Certificado">
            <div id="lightbox-caption" class="lightbox-caption">{{ lightbox.titulo }}</div>
        </div>
    </div>

    </div><!-- #app -->

    <!-- Vue.js 3 from CDN -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>

    <script>
        const { createApp } = Vue;

        // Configuração da API
        // IMPORTANTE: Use o proxy Vercel para ignorar SSL
        // Deploy o proxy-vercel para Vercel e use a URL aqui
        // Exemplo: const API_PROXY = 'https://seu-proxy.vercel.app/api';
        // Se não tiver proxy, deixe vazio para usar API direta
        const API_PROXY = ''; // Coloque aqui a URL do seu proxy Vercel quando deployar
        const API_BASE = API_PROXY || 'http://144.91.72.60:7000';

        // App Vue.js
        const app = createApp({
            data() {
                return {
                    // Cursos
                    todosOsCursos: [],
                    cursosCategoria: {},
                    categoriaAtual: 'Todos',
                    currentPage: 0,
                    itemsPerPage: 3,
                    totalCursos: 0,
                    totalCategorias: 0,
                    totalHoras: 0,

                    // Escolaridades
                    escolaridades: [],

                    // Certificações
                    certificacoes: [],

                    // Lightbox
                    lightbox: {
                        active: false,
                        url: '',
                        titulo: ''
                    },

                    // Estado de carregamento
                    loading: {
                        cursos: true,
                        escolaridades: true,
                        certificacoes: true
                    },

                    // Touch/Swipe
                    touchStartX: 0,
                    touchEndX: 0
                };
            },
            computed: {
                categorias() {
                    return ['Todos', ...Object.keys(this.cursosCategoria).sort()];
                },
                cursosParaExibir() {
                    return this.categoriaAtual === 'Todos'
                        ? this.todosOsCursos
                        : this.cursosCategoria[this.categoriaAtual] || [];
                },
                totalPages() {
                    return Math.ceil(this.cursosParaExibir.length / this.itemsPerPage);
                },
                cursosVisiveis() {
                    const start = this.currentPage * this.itemsPerPage;
                    const end = start + this.itemsPerPage;
                    return this.cursosParaExibir.slice(start, end);
                }
            },
            methods: {
                async carregarCursos() {
                    try {
                        this.loading.cursos = true;
                        const url = API_PROXY
                            ? `${API_PROXY}?endpoint=cursos`
                            : `${API_BASE}/cursos`;

                        const response = await axios.get(url);
                        let cursos = Array.isArray(response.data) ? response.data :
                                   (response.data.cursos || response.data.data || response.data.results || []);

                        if (!Array.isArray(cursos) || cursos.length === 0) {
                            throw new Error('Nenhum curso encontrado');
                        }

                        // Ordenar por data de conclusão
                        cursos.sort((a, b) => {
                            const dataA = a.dataConclusao ? new Date(a.dataConclusao) : new Date(0);
                            const dataB = b.dataConclusao ? new Date(b.dataConclusao) : new Date(0);
                            return dataB - dataA;
                        });

                        this.todosOsCursos = cursos;

                        // Agrupar por categoria
                        let totalHoras = 0;
                        this.cursosCategoria = {};
                        cursos.forEach(curso => {
                            const categoriaNome = curso.categoria?.nome || 'Outros';
                            if (!this.cursosCategoria[categoriaNome]) {
                                this.cursosCategoria[categoriaNome] = [];
                            }
                            this.cursosCategoria[categoriaNome].push(curso);
                            totalHoras += parseInt(curso.duracaoHoras) || 0;
                        });

                        // Ordenar cursos dentro de cada categoria
                        Object.keys(this.cursosCategoria).forEach(cat => {
                            this.cursosCategoria[cat].sort((a, b) => {
                                const dataA = a.dataConclusao ? new Date(a.dataConclusao) : new Date(0);
                                const dataB = b.dataConclusao ? new Date(b.dataConclusao) : new Date(0);
                                return dataB - dataA;
                            });
                        });

                        this.totalCursos = cursos.length;
                        this.totalCategorias = Object.keys(this.cursosCategoria).length;
                        this.totalHoras = totalHoras;

                    } catch (error) {
                        console.error('Erro ao carregar cursos:', error);
                    } finally {
                        this.loading.cursos = false;
                    }
                },

                async carregarEscolaridades() {
                    try {
                        this.loading.escolaridades = true;
                        const url = API_PROXY
                            ? `${API_PROXY}?endpoint=escolaridades`
                            : `${API_BASE}/escolaridades`;

                        const response = await axios.get(url);
                        let escolaridades = Array.isArray(response.data) ? response.data :
                                          (response.data.escolaridades || response.data.data || response.data.results || []);

                        if (!Array.isArray(escolaridades) || escolaridades.length === 0) {
                            throw new Error('Nenhuma escolaridade encontrada');
                        }

                        // Ordenar por data de conclusão
                        escolaridades.sort((a, b) => {
                            const dataA = a.dataConclusao ? new Date(a.dataConclusao) : new Date(0);
                            const dataB = b.dataConclusao ? new Date(b.dataConclusao) : new Date(0);
                            return dataB - dataA;
                        });

                        this.escolaridades = escolaridades;

                    } catch (error) {
                        console.error('Erro ao carregar escolaridades:', error);
                    } finally {
                        this.loading.escolaridades = false;
                    }
                },

                async carregarCertificacoes() {
                    try {
                        this.loading.certificacoes = true;
                        const url = API_PROXY
                            ? `${API_PROXY}?endpoint=certificacoes`
                            : `${API_BASE}/certificacoes`;

                        const response = await axios.get(url);
                        let certificacoes = Array.isArray(response.data) ? response.data :
                                          (response.data.certificacoes || response.data.data || response.data.results || []);

                        if (!Array.isArray(certificacoes) || certificacoes.length === 0) {
                            throw new Error('Nenhuma certificação encontrada');
                        }

                        // Ordenar por data de emissão
                        certificacoes.sort((a, b) => {
                            const dataA = a.dataEmissao ? new Date(a.dataEmissao) : new Date(0);
                            const dataB = b.dataEmissao ? new Date(b.dataEmissao) : new Date(0);
                            return dataB - dataA;
                        });

                        this.certificacoes = certificacoes;

                    } catch (error) {
                        console.error('Erro ao carregar certificações:', error);
                    } finally {
                        this.loading.certificacoes = false;
                    }
                },

                filtrarPorCategoria(categoria) {
                    this.categoriaAtual = categoria;
                    this.currentPage = 0;
                },

                navegarCarrossel(direcao) {
                    this.currentPage += direcao;
                    if (this.currentPage < 0) this.currentPage = 0;
                    if (this.currentPage >= this.totalPages) this.currentPage = this.totalPages - 1;
                },

                irParaPagina(pagina) {
                    this.currentPage = pagina;
                },

                abrirLightbox(url, titulo) {
                    this.lightbox.url = url;
                    this.lightbox.titulo = titulo;
                    this.lightbox.active = true;
                    document.body.style.overflow = 'hidden';
                },

                fecharLightbox() {
                    this.lightbox.active = false;
                    document.body.style.overflow = '';
                    setTimeout(() => {
                        this.lightbox.url = '';
                    }, 300);
                },

                formatarData(data) {
                    return data ? new Date(data).toLocaleDateString('pt-BR') : '';
                },

                formatarDataMesAno(data) {
                    return data ? new Date(data).toLocaleDateString('pt-BR', { year: 'numeric', month: 'short' }) : '';
                },

                getCertificadoUrl(path) {
                    if (!path) return '';
                    return API_PROXY ? path.replace('http://144.91.72.60:7000/', API_PROXY + '?endpoint=') : `${API_BASE}/${path}`;
                },

                getContagemCategoria(categoria) {
                    return categoria === 'Todos' ? this.todosOsCursos.length : (this.cursosCategoria[categoria]?.length || 0);
                },

                certificacaoStatus(cert) {
                    if (!cert.dataExpiracao) {
                        return { tipo: 'no-expiry', texto: 'Sem expiração', icone: 'fa-infinity' };
                    }
                    const hoje = new Date();
                    const expiracao = new Date(cert.dataExpiracao);
                    if (expiracao > hoje) {
                        return { tipo: 'valid', texto: 'Válida', icone: 'fa-check-circle' };
                    }
                    return { tipo: 'expired', texto: 'Expirada', icone: 'fa-times-circle' };
                },

                handleTouchStart(e) {
                    this.touchStartX = e.changedTouches[0].screenX;
                },

                handleTouchEnd(e) {
                    this.touchEndX = e.changedTouches[0].screenX;
                    this.handleSwipe();
                },

                handleSwipe() {
                    const swipeThreshold = 50;
                    const diff = this.touchStartX - this.touchEndX;
                    if (Math.abs(diff) > swipeThreshold) {
                        if (diff > 0) {
                            this.navegarCarrossel(1);
                        } else {
                            this.navegarCarrossel(-1);
                        }
                    }
                }
            },
            mounted() {
                // Carregar dados
                this.carregarCursos();
                this.carregarEscolaridades();
                this.carregarCertificacoes();

                // ESC para fechar lightbox
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.fecharLightbox();
                    }
                });
            }
        });

        app.mount('#app');

        // Navbar burger toggle (fora do Vue)
        document.addEventListener('DOMContentLoaded', () => {
            const $navbarBurgers = Array.prototype.slice.call(document.querySelectorAll('.navbar-burger'), 0);

            if ($navbarBurgers.length > 0) {
                $navbarBurgers.forEach(el => {
                    el.addEventListener('click', () => {
                        const target = el.dataset.target;
                        const $target = document.getElementById(target);
                        el.classList.toggle('is-active');
                        $target.classList.toggle('is-active');
                    });
                });
            }

            // Smooth scroll
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        const offset = 70;
                        const targetPosition = target.offsetTop - offset;
                        window.scrollTo({
                            top: targetPosition,
                            behavior: 'smooth'
                        });
                    }
                });
            });
        });
    </script>
</body>
</html>

